<?xml version="1.0" encoding="UTF-8"?>

<component name="ca.firstvoices.pageproviders.categories">

    <require>org.nuxeo.runtime.started</require>

    <extension target="org.nuxeo.ecm.platform.query.api.PageProviderService"
      point="providers">

        <coreQueryPageProvider name="FIND_CATEGORIES_PP">
            <pattern>
                SELECT * from FVCategories where ecm:ancestorId=? and ecm:name='Categories' and ecm:isVersion=0 and
                ecm:isTrashed=0
            </pattern>
            <sort column="dc:title" ascending="true"/>
            <pageSize>1000</pageSize>
        </coreQueryPageProvider>


        <coreQueryPageProvider name="FIND_CATEGORY_IN_CATEGORIES_PP">
            <pattern>
                SELECT * from FVCategory where ecm:ancestorId=? and ecm:isVersion=0 and ecm:isTrashed=0
            </pattern>
            <sort column="dc:title" ascending="true"/>
            <pageSize>1000</pageSize>
        </coreQueryPageProvider>


        <coreQueryPageProvider name="FIND_WORDS_WITH_CATEGORY_PP">
            <pattern>
                select * from FVWord where fv-word:categories = ? and ecm:isVersion=0 and ecm:isTrashed=0
            </pattern>
            <sort column="dc:title" ascending="true"/>
            <pageSize>1000</pageSize>
        </coreQueryPageProvider>


    </extension>
</component>

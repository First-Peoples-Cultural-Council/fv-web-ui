<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: PaginationData.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: PaginationData.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState } from 'react'
import PropTypes from 'prop-types'
import selectn from 'selectn'

import classNames from 'classnames'

import Pagination from 'views/components/Navigation/Pagination'

import { MenuItem, Select, TextField } from '@material-ui/core'

import UIHelpers from 'common/UIHelpers'
import FVLabel from 'views/components/FVLabel/index'
/**
 * PaginationData
 *
 * @version 1.0.1
 * @author [Chad Oakenfold](https://oakenfold.ca)
 */
function PaginationData(props) {
  const {currentPageSize, setCurrentPageSize} = useState(props.initialPageSize)
  const {currentPage, setCurrentPage} = useState(props.initialPage)

  const _onPageSizeChange = (event) => {
    const _currentPageSize = event.target.value
    props.onUpdate({
        page: currentPage,
        pageSize: _currentPageSize,
    })
    setCurrentPageSize(_currentPageSize)
  }

  const _changePage = (newPageIndex) => {
    props.onUpdate({
        page: currentPage,
        pageSize: currentPageSize,
    })

    setCurrentPage(newPageIndex)

    // For longer pages, user should be taken to the top when changing pages
    // document.body.scrollTop = document.documentElement.scrollTop = 0
  }

  const _onPageChange = (pagination) => {
    _changePage(pagination.selected + 1)
  }

  const _onGoToPage = (event) => {
    let newPageIndex = event.target.value
    const maxPageIndex = Math.ceil(props.resultsCount / currentPageSize)

    if (newPageIndex > maxPageIndex) {
      newPageIndex = maxPageIndex
    }

    _changePage(newPageIndex)
  }

  return (
    &lt;div>
      &lt;div className="row">
        &lt;div className="col-xs-12">
          {/* &lt;ComposedFilter {...this.state} {...this.props} /> */}
          {props.children}
        &lt;/div>
      &lt;/div>

      &lt;div className="row PrintHide" style={{ marginTop: '15px' }}>
        &lt;div className={classNames('col-md-7', 'col-xs-12')} style={{ paddingBottom: '15px' }}>
          &lt;Pagination
            forcePage={props.currentPage - 1}
            pageCount={props.pageCount}
            marginPagesDisplayed={0}
            pageRangeDisplayed={UIHelpers.isViewSize('xs') ? 3 : 10}
            onPageChange={_onPageChange}
          />
        &lt;/div>

        &lt;div className={classNames('col-md-5', 'col-xs-12')} style={{ textAlign: 'right' }}>
          {props.hasPageSize &amp;&amp; (
            &lt;div>
              &lt;label style={{ verticalAlign: '4px', marginRight: '8px' }}>Page:&lt;/label>
              &lt;span style={{ verticalAlign: '4px' }}>
                {props.currentPage} /{' '}
                {Math.ceil(props.resultsCount / currentPageSize)}
              &lt;/span>
              &lt;label
                style={{
                  verticalAlign: '4px',
                  marginRight: '8px',
                  marginLeft: '8px',
                  paddingLeft: '8px',
                  borderLeft: '1px solid #e0e0e0',
                }}
              >
              Per Page:
              &lt;/label>
              &lt;Select
                style={{ width: '45px', marginRight: '8px' }}
                value={currentPageSize}
                onChange={_onPageSizeChange}
              >
                &lt;MenuItem value={10}>10&lt;/MenuItem>
                &lt;MenuItem value={20}>20&lt;/MenuItem>
                &lt;MenuItem value={50}>50&lt;/MenuItem>
                &lt;MenuItem value={100}>100&lt;/MenuItem>
                &lt;MenuItem value={250}>250&lt;/MenuItem>
                &lt;MenuItem value={500}>500&lt;/MenuItem>
              &lt;/Select>
              &lt;label
                style={{
                  verticalAlign: '4px',
                  marginRight: '8px',
                  paddingLeft: '8px',
                  borderLeft: '1px solid #e0e0e0',
                }}
              >
                &lt;FVLabel
                  transKey="results"
                  defaultStr="Results"
                  transform="first"
                />
              &lt;/label>
              &lt;span style={{ verticalAlign: '4px' }}>{props.resultsCount}&lt;/span>
            &lt;/div>
          )}
          {props.childrenUnderPageSize}
        &lt;/div>

        &lt;div
          className={classNames('col-xs-12')}
          style={{
            textAlign: 'left',
            backgroundColor: '#f1f1f1',
            borderTop: '1px #d8d8d8 solid',
          }}
        >
              Skip to Page:
          &lt;TextField
            style={{ paddingLeft: '5px' }}
            // hintText="Enter #"
            onKeyDown={(e) => {
              if (e.keyCode === 13) {
                _onGoToPage(e)
              }
            }}
          />
        &lt;/div>
      &lt;/div>
    &lt;/div>
  )
}
// PROPTYPES
const { node, bool, func, /*object, */number } = PropTypes
PaginationData.propTypes = {
  childrenUnderPageSize: node,
  hasPageSize: bool,
  fetcher: func.isRequired,
  // fetcherParams: object.isRequired,
  resultsCount: number,
  pageCount: number,
  pageSize: number,
  currentPage: number,
}
PaginationData.defaultProps = {
  hasPageSize: true,
  fetcher: () => { },
  // fetcherParams: {},
  resultsCount: 0,
  pageCount: 0,
  pageSize: 10,
  currentPage: 1,
}

export default PaginationData
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#PaginationData">PaginationData</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Thu Jun 04 2020 13:05:31 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
